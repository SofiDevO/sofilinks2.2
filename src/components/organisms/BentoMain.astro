---
import Clock from "@src/components/atoms/Clock/Clock.tsx";
import ProductCarousel from "@src/components/molecules/ProductCarousel/ProductCarousel.astro";
import TwichCard from "../atoms/TwichCard.astro";
import CardSkeleton from "@molecules/CardSkeleton.astro";
import CardBento from "../atoms/CardBento/CardBento.astro";
const { userData } = Astro.props;
---

<section class="bento__grid">
  <div class="bento__item bento__item-1">
    <Clock client:load />
  </div>
  <div class="bento__item bento__item-2">
    <TwichCard twitchLink={userData.twitch} server:defer>
        <CardSkeleton slot="fallback" />
    </TwichCard>
  </div>
  <div class="bento__item bento__item-3 overflow-hidden">
    <CardBento
      title="Portfolio"
      link={userData.portfolio}
      texto="Ver mis proyectos"
      bgImage="/img/banner-1.webp"
    >
      <iconify-icon
        slot="icon"
        class="text-caracol absolute top-[45%] -left-20 rotate-[40deg] group-hover:top-6 transition-all ease-in-out duration-200"
        icon="heroicons:wallet-16-solid"
        width="200"
        height="200"
        ></iconify-icon>
    </CardBento>
  </div>
  <div class="bento__item bento__item-4">
    <ProductCarousel />
  </div>
  <div class="bento__item bento__item-5 overflow-hidden">
    <CardBento
      title="Discord"
      link={userData.discord}
      texto="Ãšnete en el servidor"
      bgImage="/img/banner-2.webp"
    >
      <iconify-icon
        class="text-caracol absolute top-24 -right-7 -rotate-[30deg] group-hover:top-16 transition-all ease-in-out duration-200"
        slot="icon"
        icon="ic:outline-discord"
        width="130"
        height="130"
        ></iconify-icon>
    </CardBento>
  </div>
</section>

<style is:global>
  .bento__grid {
    width: 100%;
    display: grid;
    grid-template-areas:
      "clock clock twicht twicht twicht"
      "portfolio portfolio portfolio portfolio portfolio"
      "portfolio portfolio portfolio portfolio portfolio"
      "discord discord  discord product product   "
      "discord discord  discord product product   "
      "discord discord  discord product product   ";
    gap: 10px;
    row-gap: 12px;
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(5, 1fr);
    margin-bottom: 0.8rem;
  }

  .bento__item:not(.bento__item-4) {
    min-height: 86px;
    border-radius: 12px;
    box-shadow: 0px 0px 6.8px 0px rgba(0, 0, 0, 0.25);
    border-radius: 12px;
  }

  .bento__item-1 {
    grid-area: clock;
  }
  .bento__item-2 {
    grid-area: twicht;
  }
  .bento__item-3 {
    grid-area: portfolio;
  }
  .bento__item-4 {
    grid-area: product;
    align-self: center;
  }
  .bento__item-5 {
    grid-area: discord;
  }
</style>
